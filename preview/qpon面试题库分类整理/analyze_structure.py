#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import os
import re

# æ‰‹åŠ¨å®šä¹‰åˆ†ç±»ç»“æ„ï¼ˆåŸºäºæ–‡æ¡£å†…å®¹ï¼‰
def get_manual_categories():
    return {
        "æ•°æ®ç»“æ„å’Œç®—æ³•": [
            "å¿«é€Ÿæ’åº",
            "æ•°ç»„æ‰“å¹³",
            "åˆ¤æ–­é“¾è¡¨æ˜¯å¦æœ‰ç¯",
            "é“¾è¡¨åè½¬"
        ],
        "å¼€å‘è¯­è¨€": [
            "æè¿°BFCåŠåº”ç”¨åœºæ™¯",
            "forå¾ªç¯ä¸forEachå¾ªç¯çš„æ€§èƒ½å·®å¼‚",
            "importå’Œrequireä½¿ç”¨çš„åŒºåˆ«",
            "ç†è§£å‡½æ•°çš„æŸ¯é‡ŒåŒ–",
            "jsçš„äº‹ä»¶å¾ªç¯æœºåˆ¶",
            "async awaitçš„å®ç°åŸç†",
            "å¦‚ä½•åˆ©ç”¨sass/lessåšå¤šä¸»é¢˜é€‚é…",
            "retinaå±å¹•çš„1pxè¾¹æ¡†é—®é¢˜çš„äº§ç”ŸåŠè§£å†³æ–¹æ¡ˆï¼ˆè€ƒå¯Ÿå¯¹å±å¹•çš„ç†è§£ï¼Œviewportçš„ç†è§£ç­‰ï¼‰",
            "å¦‚ä½•ç”¨varæ¨¡æ‹Ÿletå’Œconstæ•ˆæœ",
            "äº†è§£å“ªäº›è®¾è®¡æ¨¡å¼ï¼Œè§‚å¯Ÿè€…æ¨¡å¼ä¸å‘å¸ƒè®¢é˜…æ¨¡å¼çš„åŒºåˆ«",
            "cssæ–¹å¼è®¾ç½®å‚ç›´å±…ä¸­",
            "æ€ä¹ˆå®ç°thiså¯¹è±¡çš„æ·±æ‹·è´",
            "promiseã€asyncæœ‰ä»€ä¹ˆåŒºåˆ«",
            "ä»‹ç»css3ä¸­position:sticky",
            "ä»‹ç»Promiseï¼Œå¼‚å¸¸æ•è·",
            "ä»‹ç»positionå±æ€§åŒ…æ‹¬CSS3æ–°å¢",
            "ä»‹ç»äº‹ä»¶ä»£ç†ä»¥åŠä¼˜ç¼ºç‚¹",
            "<a>æ ‡ç­¾é»˜è®¤äº‹ä»¶ç¦æ‰ä¹‹ååšäº†ä»€ä¹ˆæ‰å®ç°äº†è·³è½¬",
            "æ¸…é™¤æµ®åŠ¨",
            "bindã€callã€applyçš„åŒºåˆ«",
            "== å’Œ ===çš„åŒºåˆ«ï¼Œä»€ä¹ˆæƒ…å†µä¸‹ç”¨ç›¸ç­‰==",
            "ES6ä¸­çš„mapå’ŒåŸç”Ÿçš„å¯¹è±¡æœ‰ä»€ä¹ˆåŒºåˆ«",
            "ä¸¤ä¸ªå¯¹è±¡å¦‚ä½•æ¯”è¾ƒ",
            "é˜²æŠ–å’ŒèŠ‚æµçš„åŒºåˆ«",
            "å¸¸è§è·¨åŸŸè§£å†³æ–¹æ¡ˆæœ‰å“ªäº›",
            "JSé‡Œåƒåœ¾å›æ”¶æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Œå¸¸ç”¨çš„æ˜¯å“ªç§ï¼Œæ€ä¹ˆå¤„ç†çš„",
            "someã€everyã€findã€filterã€mapã€forEachæœ‰ä»€ä¹ˆåŒºåˆ«",
            "è¯´ä¸€ä¸‹é—­åŒ…",
            "ç›’å­æ¨¡å‹ï¼Œä»¥åŠæ ‡å‡†æƒ…å†µå’ŒIEä¸‹çš„åŒºåˆ«",
            "localStorageå’Œcookieæœ‰ä»€ä¹ˆåŒºåˆ«",
            "CSSé€‰æ‹©å™¨æœ‰å“ªäº›",
            "å¯¹remã€emã€vwå•ä½çš„ç†è§£",
            "å¯¹viewportçš„ç†è§£"
        ],
        "å‰ç«¯æ¡†æ¶": [
            "Vue2.xå“åº”å¼æ•°æ®çš„åŸç†ï¼Œç›‘æµ‹å¯¹è±¡&æ•°ç»„å˜åŒ–çš„åŒºåˆ«ï¼Ÿ",
            "Vue.$nextTickæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ",
            "Vueç»„ä»¶ä¸­dataå±æ€§ä¸ºä»€ä¹ˆæœ€å¥½è¦è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Ÿ",
            "Vueä¸­computedå±æ€§ä¸watchä¹‹é—´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ",
            "v-ifä¸v-showçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ",
            "å¦‚ä½•å®ç°v-modelè¯­æ³•ç³–ï¼Ÿ",
            "Vueæ¨¡ç‰ˆç¼–è¯‘çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ",
            "Vue2.xçš„Diffç®—æ³•çš„å…·ä½“æµç¨‹å¦‚ä½•ï¼Ÿ",
            "VDomæ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨Domï¼Œ`key`å±æ€§çš„ä½œç”¨ä»€ä¹ˆï¼Ÿ",
            "Keep-aliveä½œç”¨ä»€ä¹ˆï¼Œå·¥ä½œæµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ",
            "æ¸²æŸ“åŒ…å«äº†å¤šä¸ªå­ç»„ä»¶çš„ç»„ä»¶æ—¶ï¼Œä»–ä»¬ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ˜¯æŒ‰ç…§ä»€ä¹ˆé¡ºåºè°ƒç”¨çš„ï¼Ÿ",
            "Vueä¸­å¦‚ä½•å®ç°çˆ¶å­ç»„ä»¶ï¼Œå…„å¼Ÿç»„ä»¶ä¹‹é—´çš„é€šä¿¡çš„ï¼Ÿ",
            "SSRæœ‰äº†è§£è¿‡ä¹ˆï¼Ÿç›¸è¾ƒäºCSRä¼˜ç¼ºç‚¹æ˜¯å•¥ï¼Ÿ",
            "VueRouter ä¸­å¸¸ç”¨çš„ hash å’Œ history è·¯ç”±æ¨¡å¼å®ç°åŸç†æ˜¯å•¥ï¼Ÿ",
            "Vuexæ˜¯å¦ä½¿ç”¨è¿‡ï¼Ÿåœ¨ç»„ä»¶ä¸­æ‰¹é‡ä½¿ç”¨Vuexçš„stateçŠ¶æ€ï¼Ÿ",
            "ç”¨è¿‡Vuexæ¨¡å—çš„å‘½åç©ºé—´å—ï¼Ÿä¸ºä»€ä¹ˆä½¿ç”¨ï¼Œæ€ä¹ˆä½¿ç”¨ã€‚",
            "åœ¨v-modelä¸Šæ€ä¹ˆç”¨Vuexä¸­stateçš„å€¼ï¼Ÿ",
            "ä»€ä¹ˆæ˜¯è™šæ‹ŸDOMï¼Ÿ",
            "React diff åŸç†",
            "ç±»ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ",
            "Reactä¸­çš„refsä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿä»€ä¹ˆæ˜¯forward refs?",
            "ä»€ä¹ˆæ˜¯é«˜é˜¶ç»„ä»¶ï¼Ÿ",
            "ä»€ä¹ˆæ˜¯å—æ§ç»„ä»¶ï¼Ÿ",
            "React contextæ˜¯ä»€ä¹ˆï¼Ÿ",
            "React Fiberæ˜¯ä»€ä¹ˆï¼Ÿ",
            "ä»€ä¹ˆæ˜¯Pure Components?",
            "Reactç”Ÿå‘½å‘¨æœŸæ–¹æ³•æœ‰å“ªäº›ï¼Ÿ",
            "è¯·æè¿°ä¸‹ä½ å¯¹Reactçš„æ–°ç‰¹æ€§Hooksçš„ç†è§£ï¼Ÿå®ƒæœ‰å“ªäº›åº”ç”¨åœºæ™¯ï¼Ÿ",
            "æ€æ ·ä½¿ç”¨Hooksè·å–æœåŠ¡ç«¯æ•°æ®ï¼Ÿ",
            "immutableçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ",
            "Reactæ€ä¹ˆæé«˜åˆ—è¡¨æ¸²æŸ“çš„æ€§èƒ½ï¼Ÿ",
            "Reactå…„å¼Ÿç»„ä»¶å¦‚ä½•é€šä¿¡ï¼Ÿ"
        ],
        "æ€§èƒ½ä¼˜åŒ–": [
            "asyncå’Œdeferçš„ä½¿ç”¨",
            "æ— é™æ»‘åŠ¨åŠ è½½çš„å›¾ç‰‡æµè§ˆç«™ç‚¹å¦‚ä½•åšæ€§èƒ½ä¼˜åŒ–ï¼Œå¯èƒ½äº§ç”Ÿå“ªäº›æ€§èƒ½é—®é¢˜",
            "é¡µé¢ä¸Šä¸€ä¸ªå›åˆ°é¡¶éƒ¨çš„iconï¼Œç‚¹å‡»åå¦‚ä½•å¹³æ»‘çš„æ»šåŠ¨åˆ°é¡µé¢é¡¶éƒ¨ï¼Œæœ‰å“ªäº›å®ç°æ–¹æ¡ˆï¼Œå„è‡ªä¼˜åŠ£åŠåŸå› åˆ†æ",
            "webpackæŒ‰éœ€åŠ è½½çš„å®ç°åŸç†",
            "äº†è§£/åº”ç”¨è¿‡å“ªäº›æ‡’åŠ è½½å®ç°æ–¹å¼ï¼Ÿ",
            "åœ¨æ‰€ç”¨çš„æ¡†æ¶ä¸­ï¼Œæœ‰é‡åˆ°è¿‡æ€§èƒ½ç›¸å…³çš„é—®é¢˜å—ï¼Ÿç”¨è¿‡å“ªäº›ä¼˜åŒ–æ‰‹æ®µï¼Ÿ",
            "é¡µé¢èµ„æºä¸Šçš„ç¼“å­˜æ—¶é—´æ˜¯æ€ä¹ˆé…ç½®çš„ï¼Ÿä¸ºä»€ä¹ˆè¿™ä¹ˆåšï¼Ÿé™¤äº†HTTPæœ¬èº«çš„ç¼“å­˜ï¼Œè¿˜ç”¨è¿‡å…¶ä»–çš„ç¼“å­˜æ‰‹æ®µå—ï¼Ÿ"
        ],
        "debugèƒ½åŠ›": [
            "devtoolsçš„ä½¿ç”¨",
            "coredumpæ–‡ä»¶å¦‚ä½•è°ƒè¯•",
            "å¸¸è§æŠ“åŒ…çš„å·¥å…·",
            "é¡µé¢åŠ è½½ã€æ¸²æŸ“ã€ç»˜åˆ¶ã€å¸ƒå±€æŒ‡æ ‡ï¼Œpagespeedè¿ç”¨",
            "ç°åº¦æŸäº›è´¦å·æˆ–è·¯ç”±çš„è¯·æ±‚",
            "è·¨ç«¯è°ƒè¯•æ‰‹æ®µ",
            "CPU/MEMèµ„æºï¼Œå¼‚å¸¸/è¶…æ—¶è¯·æ±‚ç›‘æ§ï¼Œæ•°æ®åˆ†æ"
        ],
        "å‰ç«¯ç›‘æ§": [
            "å·¥ä½œä¸­åšè¿‡å“ªäº›å‰ç«¯ç›‘æ§é¡¹ï¼Œæ•°æ®å¦‚ä½•ä¸ŠæŠ¥ï¼Ÿ",
            "æ€ä¹ˆè¿›è¡Œçš„å‰ç«¯å¼‚å¸¸ç›‘æ§ï¼Ÿå¦‚æœä½¿ç”¨äº†Vue/Reactç­‰ç±»åº“æˆ–æ¡†æ¶ï¼Œä¸‰æ–¹åº“ä¸­çš„å¼‚å¸¸å¦‚ä½•ä¸ŠæŠ¥ï¼Ÿ",
            "é”™è¯¯ä¿¡æ¯å¦‚ä½•åˆ†æçš„ï¼Ÿ",
            "æ•°æ®å¦‚ä½•æ¸…æ´—å¦‚ä½•åˆ†ç±»å¦‚ä½•å­˜æ”¾çš„ç­‰",
            "æ˜¯å¦æœ‰å‰ç«¯ç›‘æ§å‘Šè­¦ï¼Ÿå¦‚ä½•è§¦å‘ï¼Ÿ",
            "å¦‚ä½•è¿›è¡Œé¦–å±æ¸²æŸ“ä¸ŠæŠ¥ï¼Ÿ",
            "è®²è®²æ‰€åšè¿‡çš„æ€§èƒ½ä¼˜åŒ–é¡¹ï¼Œæ€ä¹ˆå¯¹æ¯”æ€§èƒ½ä¼˜åŒ–å‰åçš„æ•ˆæœï¼Ÿ",
            "å‰ç«¯æ€§èƒ½ç›‘æ§éƒ½åšè¿‡å“ªäº›ï¼Œå¦‚ä½•å®ç°çš„ï¼Ÿ",
            "å¦‚ä½•åˆ¤æ–­å‰ç«¯æ€§èƒ½é—®é¢˜ï¼Ÿ",
            "è®©ä½ è®¾è®¡ç›‘æ§é¡¹åˆ¤æ–­å“ªäº›èµ„æºèµ°äº†ç¼“å­˜ï¼Ÿ",
            "ä»€ä¹ˆæ˜¯ç°åº¦ï¼Œæ€ä¹ˆæ ·å‰ç«¯é¡µé¢/Nodeå®ç°ä¸€å¥—ç°åº¦æˆ–A/Btestæ–¹æ¡ˆï¼Ÿ",
            "Nodeå¦‚ä½•åšçš„è¿›ç¨‹ç®¡ç†ï¼Ÿ",
            "PM2ä¸­å¦‚æœmasteræŒ‚äº†ä¼šæ€æ ·ï¼Ÿ",
            "NodeæœåŠ¡æœ‰ç›‘æ§è¿‡å“ªäº›æŒ‡æ ‡ï¼Ÿå¦‚ä½•å®ç°çš„ç›‘æ§ï¼Ÿ",
            "è¯·æ±‚é‡è¿‡å¤§è¶…è¿‡æ‰¿è½½è¦æ€ä¹ˆè®¾è®¡å¤„ç†æ–¹æ¡ˆï¼Ÿ",
            "èŠèŠå¼‚å¸¸æ•°æ®çš„ç›‘æ§ä¸å¤„ç†ï¼Ÿ",
            "å¦‚ä½•é‡‡é›†ç”¨æˆ·åœ¨é¡µé¢åœç•™æ—¶é•¿",
            "å¦‚ä½•ç»Ÿè®¡ç”¨æˆ·åœ¨é¡µé¢ä¸Šçš„äº¤äº’è¡Œä¸ºï¼Œæœ‰å“ªäº›æ‰‹æ®µ"
        ],
        "è·¨ç«¯ç»éªŒ": [
            "å¦‚ä½•åšRNåœ¨å®‰å“å’ŒIOSç«¯çš„é€‚é…",
            "RNä¸ºä»€ä¹ˆèƒ½åœ¨åŸç”Ÿä¸­ç»˜åˆ¶æˆåŸç”Ÿç»„ä»¶ï¼ˆbundle.jsï¼‰",
            "nativeæä¾›äº†ä»€ä¹ˆèƒ½åŠ›ç»™RN",
            "å°ç¨‹åºé‡Œé¢å¼€é¡µé¢æœ€å¤šå¤šå°‘",
            "RNæœ‰æ²¡æœ‰åšçƒ­åŠ è½½",
            "RNé‡åˆ°çš„å…¼å®¹æ€§é—®é¢˜",
            "nodeæ¥å£è½¬å‘æœ‰æ— åšä»€ä¹ˆä¼˜åŒ–",
            "nodeèµ·æœåŠ¡å¦‚ä½•ä¿è¯ç¨³å®šæ€§ï¼Œå¹³ç¼“é™çº§ï¼Œé‡å¯ç­‰"
        ],
        "å·¥ç¨‹åŒ–/æ¶æ„è®¾è®¡": [
            "Babelçš„åŸç†æ˜¯ä»€ä¹ˆ?",
            "webpack 5 å¢åŠ äº†å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ",
            "Webpack HMRçš„åŸç†æ˜¯ä»€ä¹ˆ?",
            "Webpackçš„loaderæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ",
            "Webpacké‡Œé¢çš„æ’ä»¶æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ",
            "dev-serveræ˜¯æ€ä¹ˆè·‘èµ·æ¥",
            "webpackæ•´ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œloaderå’Œpluginæœ‰ä»€ä¹ˆåŒºåˆ«",
            "å¦‚ä½•åšå·¥ç¨‹ä¸Šçš„ä¼˜åŒ–",
            "å®ç°æ¨¡ç³Šæœç´¢ç»“æœçš„å…³é”®è¯é«˜äº®æ˜¾ç¤º",
            "è¯´è¯´æ‹–æ‹½å¼åŠ¨æ€è¡¨å•çš„æœ€ä½³å®ç°æ–¹æ¡ˆ",
            "åšè¿‡å¤§æ–‡ä»¶ä¸Šä¼ å—ï¼Ÿä½ æ˜¯å¦‚ä½•åšä¸Šä¼ ä¼˜åŒ–çš„ï¼Ÿ"
        ],
        "ç½‘ç»œåè®®": [
            "http2.0åè®®çš„ä¼˜åŒ–é¡¹ï¼Œå¯¹æ¯”keep-aliveçš„åŒºåˆ«",
            "äº†è§£optionè¯·æ±‚",
            "ä¸ºä»€ä¹ˆè¯´HTTPSå®‰å…¨ï¼ŒHTTPSæ˜¯æ€ä¹ˆè¿æ¥çš„ï¼Ÿ",
            "30xçš„çŠ¶æ€ç æœ‰é‡åˆ°/äº†è§£è¿‡å“ªäº›ï¼Œå®ƒä»¬çš„ä½œç”¨åˆ†åˆ«æ˜¯ï¼Ÿ",
            "æµè§ˆå™¨åœ¨HTTP1.x æ¯ä¸ªåŸŸååŒæ—¶åˆ›å»ºçš„è¿æ¥æœ‰ä¸ªæ•°é™åˆ¶å—ï¼Œæ˜¯å¤šå°‘ä¸ªï¼Ÿä¸ºä»€ä¹ˆè¦åˆ›å»ºå¤šä¸ªè¿æ¥ï¼ŸHTTP/2 æœ‰ä»€ä¹ˆå¤„ç†å—ï¼Ÿ"
        ],
        "webå®‰å…¨": [
            "ç½‘é¡µå¦‚ä½•é˜²æ­¢iframeåµŒå¥—",
            "ï¼ˆå‘æ•£ï¼‰ä¸‰æ–¹æŠ•æ”¾çš„å¹¿å‘Šè½åœ°é¡µï¼Œå¦‚ä½•åšé˜²ä½œå¼Šæ£€æµ‹ï¼Œæœ‰å“ªäº›æ£€æµ‹æ‰‹æ®µ",
            "CSRFæ¼æ´åŸç†å’Œé˜²èŒƒï¼Œåœ¨å­˜åœ¨xssçš„æƒ…å†µä¸‹èƒ½å¦èµ·ä½œç”¨",
            "XSSæ”»å‡»çš„åŸç†ã€åˆ†ç±»ã€å…·ä½“æ¡ˆä¾‹ï¼Œå‰ç«¯å¦‚ä½•é˜²å¾¡",
            "HTTPSå¦‚ä½•ä¿è¯æ•°æ®ä¸è¢«çªƒå¬å’Œä¸è¢«ä¸­é—´äººæ”»å‡»",
            "å¦‚ä½•è®¾è®¡ç”¨æˆ·å¯†ç å­˜å‚¨?",
            "å¦‚ä½•è®¾è®¡ç™»å½•è¿‡ç¨‹ï¼Ÿ",
            "æ–‡ä»¶ä¸Šä¼ çš„æ¼æ´åŸç†å’Œé˜²èŒƒ"
        ]
    }

# è¯»å–æ‰€æœ‰MDæ–‡ä»¶å†…å®¹
def read_md_files():
    md_files = {}
    files = [f for f in os.listdir('.') if f.endswith('.md') and f not in ['README.md', 'å›¾ç‰‡é—®é¢˜å®Œæ•´æ¸…å•.md', 'è´¨é‡æ£€æŸ¥æŠ¥å‘Š.md']]

    for filename in files:
        with open(filename, 'r', encoding='utf-8') as f:
            content = f.read()
            md_files[filename] = content

    return md_files

# æ£€æŸ¥é—®é¢˜æ˜¯å¦åœ¨MDæ–‡ä»¶ä¸­ï¼ˆæ›´æ™ºèƒ½çš„åŒ¹é…ï¼‰
def check_question_coverage(question, md_content):
    # æ¸…ç†é—®é¢˜æ–‡æœ¬
    clean_q = question.replace('?', '').replace('ï¼Ÿ', '').strip()

    # ç§»é™¤æ‹¬å·ä¸­çš„è¯´æ˜
    clean_q = re.sub(r'[ï¼ˆ(].*?[)ï¼‰]', '', clean_q).strip()

    # å®Œæ•´åŒ¹é…
    if clean_q in md_content:
        return True

    # æå–å…³é”®è¯ï¼ˆå‰20ä¸ªå­—ç¬¦ï¼‰
    if len(clean_q) > 10:
        keywords = clean_q[:20]
        if keywords in md_content:
            return True

    # å¯¹äºç‰¹åˆ«é•¿çš„é—®é¢˜ï¼Œæ£€æŸ¥æ ¸å¿ƒå…³é”®è¯
    if len(clean_q) > 30:
        core_keywords = clean_q.split('ï¼Œ')[0].split(',')[0][:15]
        if core_keywords in md_content:
            return True

    return False

# ä¸»å‡½æ•°
def main():
    print("=" * 90)
    print("ğŸ“‹ QPONé¢è¯•é¢˜åº“åˆ†ç±»è¦†ç›–æƒ…å†µæ£€æŸ¥æŠ¥å‘Š")
    print("=" * 90)
    print()

    # è·å–åˆ†ç±»ç»“æ„
    categories = get_manual_categories()

    # è¯»å–æ‰€æœ‰MDæ–‡ä»¶
    md_files = read_md_files()
    all_md_content = '\n'.join(md_files.values())

    # ç»Ÿè®¡æ•°æ®
    total_questions = sum(len(questions) for questions in categories.values())
    covered_count = 0
    uncovered_questions = {}

    # æ£€æŸ¥æ¯ä¸ªåˆ†ç±»
    print("ğŸ“Š å„åˆ†ç±»è¦†ç›–æƒ…å†µ:")
    print("-" * 90)
    print(f"{'åˆ†ç±»åç§°':<20} {'æ€»æ•°':>6} {'å·²è¦†ç›–':>8} {'æœªè¦†ç›–':>8} {'è¦†ç›–ç‡':>10} {'çŠ¶æ€':>6}")
    print("-" * 90)

    for category, questions in categories.items():
        if not questions:
            continue

        category_covered = 0
        category_uncovered = []

        for question in questions:
            if check_question_coverage(question, all_md_content):
                category_covered += 1
                covered_count += 1
            else:
                category_uncovered.append(question)

        total = len(questions)
        coverage_rate = (category_covered / total * 100) if total > 0 else 0

        if coverage_rate == 100:
            status = "âœ…"
        elif coverage_rate >= 70:
            status = "âš ï¸"
        else:
            status = "âŒ"

        print(f"{category:<20} {total:>6} {category_covered:>8} {len(category_uncovered):>8} {coverage_rate:>9.1f}% {status:>6}")

        if category_uncovered:
            uncovered_questions[category] = category_uncovered

    # æ€»ä½“ç»Ÿè®¡
    print("-" * 90)
    coverage_rate = (covered_count/total_questions*100) if total_questions > 0 else 0
    print(f"{'æ€»è®¡':<20} {total_questions:>6} {covered_count:>8} {total_questions - covered_count:>8} {coverage_rate:>9.1f}%")
    print()

    # è¯¦ç»†æœªè¦†ç›–é—®é¢˜åˆ—è¡¨
    if uncovered_questions:
        print("=" * 90)
        print("âŒ æœªè¦†ç›–é—®é¢˜è¯¦æƒ…:")
        print("=" * 90)
        total_uncovered = 0
        for category, questions in uncovered_questions.items():
            total_uncovered += len(questions)
            print(f"\nã€{category}ã€‘ - {len(questions)}ä¸ªæœªè¦†ç›–é—®é¢˜")
            print("-" * 90)
            for i, question in enumerate(questions, 1):
                # æˆªæ–­å¤ªé•¿çš„é—®é¢˜
                display_q = question if len(question) <= 70 else question[:70] + "..."
                print(f"  {i:2d}. {display_q}")

        print()
        print("=" * 90)
        print(f"æ€»è®¡æœªè¦†ç›–é—®é¢˜: {total_uncovered} ä¸ª")
        print("=" * 90)

    # æ–‡ä»¶å¯¹åº”å…³ç³»
    print()
    print("=" * 90)
    print("ğŸ“ å·²ç”Ÿæˆçš„MDæ–‡ä»¶åˆ—è¡¨:")
    print("=" * 90)
    for filename in sorted(md_files.keys()):
        size = len(md_files[filename])
        # è®¡ç®—å¤§æ¦‚çš„é—®é¢˜æ•°é‡ï¼ˆåŸºäºæ ‡é¢˜æ ‡è®° ##ï¼‰
        question_count = md_files[filename].count('## ')
        print(f"  âœ“ {filename:<40} ({size:>6} å­—ç¬¦, çº¦{question_count:>3}ä¸ªé—®é¢˜)")

    print()
    print("=" * 90)
    print("ğŸ’¡ æ€»ç»“:")
    print("=" * 90)
    print(f"  âœ“ æ€»åˆ†ç±»æ•°: {len(categories)}")
    print(f"  âœ“ æ€»é—®é¢˜æ•°: {total_questions}")
    print(f"  âœ“ å·²è¦†ç›–: {covered_count} ({coverage_rate:.1f}%)")
    print(f"  âœ“ æœªè¦†ç›–: {total_questions - covered_count} ({(total_questions-covered_count)/total_questions*100:.1f}%)")
    print(f"  âœ“ MDæ–‡ä»¶æ•°: {len(md_files)}")
    print()

    if coverage_rate >= 90:
        print("  ğŸ‰ è¦†ç›–ç‡ä¼˜ç§€ï¼å¤§éƒ¨åˆ†é—®é¢˜å·²ç”Ÿæˆæ ‡å‡†ç­”æ¡ˆã€‚")
    elif coverage_rate >= 70:
        print("  ğŸ‘ è¦†ç›–ç‡è‰¯å¥½ï¼è¿˜æœ‰éƒ¨åˆ†é—®é¢˜éœ€è¦è¡¥å……ã€‚")
    else:
        print("  âš ï¸  è¦†ç›–ç‡è¾ƒä½ï¼Œå»ºè®®è¡¥å……ç¼ºå¤±çš„é—®é¢˜ç­”æ¡ˆã€‚")

    print("=" * 90)

if __name__ == "__main__":
    main()
